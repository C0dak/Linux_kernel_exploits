#define userspace_base_to_map 0x66666000

void * userspace_base;
void mmap_userspace_base(){
    userspace_base = mmap((void *)userspace_base_to_map,0x1000 * 2,PROT_READ|PROT_WRITE,MAP_PRIVATE|MAP_ANONYMOUS,-1,0);
    if (userspace_base_to_map<0){
        perror("mmap failed");
    }
}

void init_userspace_base(){
    mmap_userspace_base();
    *(unsigned long*)(userspace_base + 0x1020)=0;
    *(unsigned long*)(userspace_base + 0x1040)=0xffff88003e33af00;
    *(unsigned long*)(userspace_base + 0x1048)=0xffffffff81122288;
    //*(unsigned long*)(userspace_base + 0x1078)=0x4;
    *(unsigned long*)(userspace_base + 0x1080)=0x66667000;
}
